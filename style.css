body { background: radial-gradient(circle at center, #0a0a0a 0%, #000000 100%); color: #fff; cursor: none; min-height: 100vh; overflow-x: hidden; }
body.system-cursor { cursor: auto; }
body.system-cursor #osu-cursor { display: none; }
::selection { background: #ef4444; color: #fff; text-shadow: 0 0 5px rgba(0,0,0,0.5); }

/* --- Optimized Cursor --- */
#osu-cursor { position: fixed; top: 0; left: 0; width: 30px; height: 30px; pointer-events: none; z-index: 99999; margin-left: -15px; margin-top: -15px; will-change: transform; }
#osu-cursor img { width: 100%; height: 100%; filter: drop-shadow(0 0 8px rgba(255,102,170,0.6)); }
.trail-dot { position: fixed; pointer-events: none; z-index: 99998; width: 14px; height: 14px; background: rgba(255, 102, 170, 0.5); border-radius: 50%; margin-left: -7px; margin-top: -7px; animation: fadeTrail 0.3s linear forwards; will-change: transform, opacity; }
@keyframes fadeTrail { to { transform: scale(0.2); opacity: 0; } }

/* --- Background --- */
.bg-noise { position: fixed; inset: 0; z-index: 0; opacity: 0.03; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E"); pointer-events: none; mix-blend-mode: soft-light; }
.blob { position: absolute; border-radius: 50%; opacity: 0.4; animation: blob 15s infinite alternate; will-change: transform, opacity; }
.blob-1 { background: radial-gradient(circle, rgba(79, 70, 229, 0.8) 0%, transparent 70%); width: 600px; height: 600px; top: -200px; left: -200px; }
.blob-2 { background: radial-gradient(circle, rgba(236, 72, 153, 0.8) 0%, transparent 70%); width: 500px; height: 500px; top: 20%; right: -100px; animation-delay: 2s; }
.blob-3 { background: radial-gradient(circle, rgba(6, 182, 212, 0.8) 0%, transparent 70%); width: 550px; height: 550px; bottom: -100px; left: 10%; animation-delay: 4s; }
@keyframes blob { 0% { transform: translate(0, 0) scale(1); } 33% { transform: translate(30px, -50px) scale(1.1); } 66% { transform: translate(-20px, 20px) scale(0.9); } 100% { transform: translate(0, 0) scale(1); } }

/* --- UI --- */
.bento-card { background-color: rgba(20, 20, 23, 0.7); border: 1px solid rgba(255, 255, 255, 0.05); backdrop-filter: blur(24px); border-radius: 24px; overflow: hidden; position: relative; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); }
.bento-card:hover { transform: translateY(-4px); background-color: rgba(255, 255, 255, 0.08); border-color: rgba(255, 255, 255, 0.15); z-index: 10; box-shadow: 0 10px 40px -10px rgba(0,0,0,0.5); }
.nav-btn { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); padding: 10px 24px; border-radius: 99px; font-weight: 600; font-size: 14px; letter-spacing: 0.05em; transition: all 0.3s; color: #888; cursor: pointer; }
.nav-btn:hover { color: #fff; background: rgba(255, 255, 255, 0.1); }
.nav-btn.active { background: #fff; color: #000; border-color: #fff; box-shadow: 0 0 20px rgba(255,255,255,0.2); }
.tab-content { display: none; width: 100%; }
.tab-content.active { display: block; }

/* Scrollbar */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.3); }
.custom-scrollbar { scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.2) transparent; }

/* OSU Specific */
.rank-XH, .rank-SS, .rank-X, .rank-SSH { color: #e4e4e4; text-shadow: 0 0 10px rgba(255, 255, 255, 0.6); }
.rank-SH, .rank-S { color: #ffd700; text-shadow: 0 0 10px rgba(255, 215, 0, 0.6); }
.rank-A { color: #22c55e; text-shadow: 0 0 10px rgba(34, 197, 94, 0.6); }
.rank-B { color: #3b82f6; }
.rank-C { color: #a855f7; }
.rank-D { color: #ef4444; }
.mod-badge { padding: 1px 4px; border-radius: 4px; font-size: 9px; font-weight: 800; }
.score-scroll-container { max-height: 500px; overflow-y: auto; padding-right: 2px; }

/* View Transitions */
::view-transition-old(root), ::view-transition-new(root) { animation-duration: 0.4s; }
.specs-table { width: 100%; font-size: 11px; color: #aaa; border-collapse: collapse; }
.specs-table td { padding: 4px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
.specs-table td:last-child { text-align: right; color: #fff; font-weight: 600; font-family: monospace; }
.key-display { width: 80px; height: 80px; border-radius: 16px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center; font-size: 32px; font-weight: 900; color: #444; transition: all 0.05s; text-transform: uppercase; }
.key-display.active { background: #6366f1; color: white; border-color: #818cf8; box-shadow: 0 0 30px rgba(99, 102, 241, 0.4); transform: scale(0.95); }
.stat-box { background: rgba(255,255,255,0.03); border-radius: 12px; padding: 16px; border: 1px solid rgba(255,255,255,0.05); text-align: center; display: flex; flex-direction: column; justify-content: center; }
.stat-value { font-size: 28px; font-weight: 700; line-height: 1; margin-bottom: 4px; }
.stat-label { font-size: 10px; color: #666; text-transform: uppercase; letter-spacing: 0.05em; }
#toast { visibility: hidden; min-width: 250px; background-color: rgba(20, 20, 23, 0.9); backdrop-filter: blur(10px); color: #fff; text-align: center; border-radius: 50px; padding: 16px; position: fixed; z-index: 100; left: 50%; bottom: 30px; transform: translateX(-50%); font-size: 16px; border: 1px solid rgba(255,255,255,0.1); opacity: 0; transition: all 0.3s; }
#toast.show { visibility: visible; opacity: 1; bottom: 50px; }

/* --- COMPACT SCORE LIST --- */
.score-row {
    display: grid;
    grid-template-columns: 40px 1fr 100px 80px;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    background: rgba(255, 255, 255, 0.03);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    transition: all 0.2s;
    cursor: pointer;
}
.score-row:hover { background: rgba(255, 255, 255, 0.08); padding-left: 16px; }
.score-row:first-child { border-top-left-radius: 12px; border-top-right-radius: 12px; }
.score-row:last-child { border-bottom-left-radius: 12px; border-bottom-right-radius: 12px; border-bottom: none; }

/* --- SCORE MODAL --- */
.modal-overlay {
    position: fixed; inset: 0; z-index: 9999;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(8px);
    display: flex; align-items: center; justify-content: center;
    opacity: 0; pointer-events: none; transition: opacity 0.3s;
}
.modal-overlay.active { opacity: 1; pointer-events: auto; }

.score-modal {
    width: 900px; max-width: 95vw;
    background: #141417;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 20px 50px rgba(0,0,0,0.5);
    transform: scale(0.95); transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    border: 1px solid rgba(255,255,255,0.1);
}
.modal-overlay.active .score-modal { transform: scale(1); }

/* Rank Circle in Modal */
.modal-rank-circle {
    width: 120px; height: 120px;
    border-radius: 50%;
    border: 6px solid currentColor;
    display: flex; align-items: center; justify-content: center;
    font-size: 60px; font-weight: 900; font-style: italic;
    text-shadow: 0 0 20px currentColor;
    box-shadow: 0 0 30px rgba(0,0,0,0.5);
    background: rgba(0,0,0,0.3);
}

/* Stat Grid */
.detail-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; text-align: center; }
.detail-item { background: rgba(255,255,255,0.05); padding: 8px; border-radius: 8px; }
.detail-label { font-size: 10px; color: #888; text-transform: uppercase; font-weight: bold; }
.detail-val { font-size: 16px; font-weight: bold; color: #fff; }

.map-stat-row { display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px; border-bottom: 1px solid rgba(255,255,255,0.05); padding-bottom: 2px; }
.close-modal-btn { position: absolute; top: 10px; right: 10px; z-index: 50; width: 30px; height: 30px; background: rgba(0,0,0,0.5); border-radius: 50%; color: white; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: bg 0.2s; }
.close-modal-btn:hover { background: rgba(255,68,68,0.8); }

/* Colors for ranks */
.text-rank-XH, .text-rank-SS { color: #e4e4e4; }
.text-rank-SH, .text-rank-S { color: #ffd700; }
.text-rank-A { color: #22c55e; }
.text-rank-B { color: #3b82f6; }
.text-rank-C { color: #a855f7; }
.text-rank-D { color: #ef4444; }

